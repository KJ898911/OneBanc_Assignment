var configuratorExchange={};
$(function(){function N(){var a=$("#in_phone_inp1").val(),b="";if(0===a.length)return $("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(Granite.I18n.get("Please enter your Zipcode")),!1;if(6>a.length)return $("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(Granite.I18n.get("Please enter a valid Pincode")),
!1;var d={sku:u,postal_code:a};a={postal_code:a,skus:[u]};"undefined"!==typeof m&&""!==m&&(d.store_id=m);var c=$("#isPreqa").val(),n="https://smapi.shiprocket.in/v1/samsung/serviceability";void 0!==c&&null!=c&&""!==c&&"true"===c&&(n="https://smapi-uat.shiprocket.in/v1/samsung/serviceability");n=p+"/v4/configurator/serviceability";$.ajax({url:n,type:"POST",dataType:"json",timeout:2E4,crossDomain:!0,xhrFields:{withCredentials:!0},async:!0,contentType:"application/json",data:JSON.stringify(a),success:function(a,
c,n){200==n.status?U(a,d):(b="Exchange not available on this pincode",$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(b))},error:function(a){b="Exchange not available on this pincode";$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error");
$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(b)}});return!0}function U(a,b){var d="";!0===a[0].external_attributes.is_trade_in_available?$.ajax({headers:r,url:p+"/v1/exchange/offers",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,timeout:1E4,data:JSON.stringify(b),success:function(a){0<a.length?(q=a,H(),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--error").addClass("text-field--success"),
$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .success-message").text("Exchange is available in your area")):(d="Exchange not available on this pincode",$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(d))},
error:function(a){d="Exchange not available on this pincode";$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error");$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(d)}}):(d="Exchange not available on this pincode",$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),
$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(d))}function H(){window.sg.components.instantExchangePopupHubble.reInitSelectBox();var a=[];C=[];D=[];for(var b=0;b<q.length;b++)!0===q[b].delayed_gratification?D.push(q[b].offer_id):C.push(q[b].offer_id),a.push(q[b].offer_id);a={postal_code:$("#in_phone_inp1").val(),offer_ids:a,sku:u};"undefined"!==typeof m&&""!==m&&(a.store_id=m);var d=$("#in_phone_inp2").val();A||""===d||(a.imei=
d);$.ajax({headers:r,url:p+"/v1/exchange/device-offers",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,timeout:1E4,data:JSON.stringify(a),success:function(a){null!=a&&(a=a.filter(function(a){return a.estimated_discount&&a.estimated_discount.exchange_value&&a.estimated_discount.exchange_value.amount&&0<a.estimated_discount.exchange_value.amount?!0:!1}),$("#in_phone_inp2").removeAttr("disabled"),$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .text-field--hide-label").removeClass("text-field--disabled"),
$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .instant-exchange-popup-hubble__search").removeAttr("disabled","disabled"),""!==d?0<a.length?($(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").addClass("text-field--success").removeClass("text-field--error"),$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label .success-message").text("Valid IMEI"),E=!1,I(a)):($(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success"),
$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label .error-message").text("Trade-in is not available for this device")):(I(a),E=!0),!0===E&&(O=a))},error:function(a){a=J(a);"Please enter a valid 6 digit pincode"===a?($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error"),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text("Please enter your pincode first")):
(""===a&&(a=Granite.I18n.get("We're sorry, an error occurred.")),""!==d?($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label .error-message").text(a),$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success")):($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label .error-message").text(a),
$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error")))}})}function I(a){f={baseName:""};a=P(a);if(0<a.length)for(var b=0;b<a.length;b++){var d=a[b].series;if(null!=a[b].brand){var c=a[b].brand;-1<c.toLowerCase().indexOf("samsung")&&(c="Samsung");null==f[c]&&(f[c]=[]);null==f[c][d]&&(f[c][d]=[]);f[c][d].push(a[b]);""===f.baseName?0>f.baseName.indexOf(c)&&(f.baseName=c):0>f.baseName.indexOf(c)&&
(f.baseName=f.baseName+","+c);null==f[c].series?f[c].series=d:0>f[c].series.indexOf(d)&&(f[c].series=f[c].series+","+d);if(null!=a[b].estimated_discount){if(d=0,Q||null==a[b].estimated_discount.total.amount?null!=a[b].estimated_discount.exchange_value.amount&&(d=a[b].estimated_discount.exchange_value.amount):d=a[b].estimated_discount.total.amount,null==f[c].amount||f[c].amount<d)f[c].amount=d}else"true"!==v&&(K=!0)}}a="";if(0<f.baseName.length){c=f.baseName.split(",");c.sort();b=[];if(null!=f.Samsung)for(b.push("Samsung"),
d=0;d<c.length;d++)0>c[d].indexOf("Samsung")&&b.push(c[d]);else b=c;f.baseName=b.join();for(c=0;c<b.length;c++)a+='\x3coption value\x3d"'+b[c]+'" an-tr\x3d"'+B+'" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select brand:'+b[c].toLowerCase()+'"\x3e'+b[c]+"\x3c/option\x3e";$("#select-box-01 select").html(a);$("#select-box-01").removeClass("disabled");window.sg.common.menu.reInit($("#select-box-01")[0]);1===b.length&&$("#select-box-01 .menu__list-option-wrap")[0].click()}}function P(a){var b=
{},d=[];$("#tempTitle").val();for(var c=0;c<a.length;c++){for(var n="",e=0;e<C.length;e++)C[e]===a[c].offer_id&&(n="instant");if(""===n)for(e=0;e<D.length;e++)D[e]===a[c].offer_id&&(n="easy");a.sort(function(a,b){return a.estimated_discount.exchange_discount.amount-b.estimated_discount.exchange_discount.amount});""!==n&&(null==b[a[c].id]?(b[a[c].id]=d.length,a[c].instant_ids=[],a[c].deffered_ids=[],"instant"===n?0<a[c].estimated_discount.exchange_value.amount&&(a[c].instantOffer_Id=a[c].offer_id,
a[c].instant_estimatied_discount=a[c].estimated_discount,a[c].instant_ids.push(a[c].offer_id)):0<a[c].estimated_discount.exchange_value.amount&&(a[c].easyOffer_Id=a[c].offer_id,a[c].easyOffer_estimatied_discount=a[c].estimated_discount,a[c].deffered_ids.push(a[c].offer_id)),d.push(a[c])):"instant"===n?0<a[c].estimated_discount.exchange_value.amount&&(d[b[a[c].id]].instantOffer_Id=a[c].offer_id,d[b[a[c].id]].instant_estimatied_discount=a[c].estimated_discount,d[b[a[c].id]].instant_ids.push(a[c].offer_id)):
0<a[c].estimated_discount.exchange_value.amount&&(d[b[a[c].id]].easyOffer_Id=a[c].offer_id,d[b[a[c].id]].easyOffer_estimatied_discount=a[c].estimated_discount,d[b[a[c].id]].deffered_ids.push(a[c].offer_id)))}return d}function L(a){for(var b=$(".instant-exchange-popup-hubble__selectbox-inner").length+1;a<b;a++)$("#select-box-0"+a+" select option").remove(),window.sg.common.menu.reInit($("#select-box-0"+a)[0])}function w(a){var b=$("#instant-exchange-pop-chk"),d=!1;"disabled"===$("#in_phone_inp3").attr("disabled")&&
(t=!0);b.is(":visible")?b.prop("checked")&&t&&(d=!0):t&&(d=!0);!1===a&&(d=!1);d?$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").removeClass("cta--disabled"):$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").addClass("cta--disabled")}function R(){var a=$("#in_phone_inp3").val(),b=!1,d="";""===a?(b=!0,d=Granite.I18n.get("Please enter IMEI")):/^[0-9]*$/.test(a)?15!==a.length&&(b=!0,d=Granite.I18n.get("IMEI must be 15 characters.")):
(b=!0,d=Granite.I18n.get("Invalid IMEI"));if(b)return $("#instant-exchange-popup-hubble-offer .text-field--hide-label .error-message").text(Granite.I18n.get(d)),$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success"),w(!1),!1;V()}function V(){for(var a=$("#in_phone_inp3").val(),b=[],d=0;d<q.length;d++)b.push(q[d].offer_id);a={postal_code:e.postal_code,offer_ids:b,sku:u,imei:a};"undefined"!==typeof m&&""!==m&&(a.store_id=m);
$.ajax({headers:r,url:p+"/v1/exchange/device-offers",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,timeout:1E4,data:JSON.stringify(a),success:function(a){if(null!=a&&a!==[]){a=a.filter(function(a){return a.estimated_discount&&a.estimated_discount.exchange_value&&a.estimated_discount.exchange_value.amount&&0<a.estimated_discount.exchange_value.amount?!0:!1});a=P(a);var b=[];if(null!=a&&0<a.length)for(var c=0;c<a.length;c++)null!=a[c].instant_estimatied_discount&&
null!=a[c].instant_estimatied_discount.exchange_value&&null!=a[c].instant_estimatied_discount.exchange_value.amount&&b.push(a[c].instant_estimatied_discount.exchange_value.amount);c=0;0<b.length&&(c=Math.min.apply(null,b));var d=[];if(null!=a&&0<a.length)for(b=0;b<a.length;b++)null!=a[b].easyOffer_estimatied_discount&&null!=a[b].easyOffer_estimatied_discount.exchange_value&&null!=a[b].easyOffer_estimatied_discount.exchange_value.amount&&d.push(a[b].easyOffer_estimatied_discount.exchange_value.amount);
b=0;0<d.length&&(b=Math.min.apply(null,d));d=0;var f=!1;if(0<c&&null!=a&&0<a.length){for(f=0;f<a.length;f++)if(null!=a[f].instant_estimatied_discount&&null!=a[f].instant_estimatied_discount.exchange_value&&null!=a[f].instant_estimatied_discount.exchange_value.amount){if(c===a[f].instant_estimatied_discount.exchange_value.amount)break;d++}f=!0}c=0;var g=!1;if(0<b&&null!=a&&0<a.length){for(g=0;g<a.length;g++)if(null!=a[g].easyOffer_estimatied_discount&&null!=a[g].easyOffer_estimatied_discount.exchange_value&&
null!=a[g].easyOffer_estimatied_discount.exchange_value.amount){if(b===a[g].easyOffer_estimatied_discount.exchange_value.amount)break;c++}g=!0}f?e=a[d]:g&&(e=a[c]);e!==[]&&(e.postal_code=$("#in_phone_inp1").val());S();t=!0;$("#instant-exchange-popup-hubble-offer .text-field--hide-label .success-message").text(Granite.I18n.get("Correct"));$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--success").removeClass("text-field--error");w()}else t=!1,$("#instant-exchange-popup-hubble-offer .text-field--hide-label .error-message").text(Granite.I18n.get("Trade-in is not available for this device")),
$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success")},error:function(a){a=J(a);""===a&&(a=Granite.I18n.get("We're sorry, an error occurred."));t=!1;$("#instant-exchange-popup-hubble-offer .text-field--hide-label .error-message").text(a);$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success")}})}function W(){if(!0!==F){F=!0;var a=$("#in_phone_inp3").val(),
b="";b="phone-offer-1"===$("#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]:checked").attr("id")?e.easyOffer_Id:e.instantOffer_Id;$.ajax({headers:r,url:p+"/v1/exchange",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,timeout:1E4,data:JSON.stringify({device_info:{imei:a},offer_id:b,device_id:e.id,postal_code:e.postal_code,sku:u}),success:function(b){if(null!=b&&b!==[]){b.device_info={};b.device_info.brand=e.brand;b.device_info.name=e.name;b.device_info.series=
e.series;b.device_info.variant=e.variant;b.IMEI=a;var c="";if(e.delayed_gratification)for(var d=0;d<e.deffered_ids.length;d++)e.easyOffer_Id!=e.deffered_ids[d]&&(c=e.deffered_ids[d]);else for(var f=0;f<e.instant_ids.length;f++)e.instantOffer_Id!=e.instant_ids[f]&&(c=e.instant_ids[d]);b.notselected_offer_id=c;$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--success").removeClass("text-field--error");window.sg.components.dynamic.DetailAfterEvent.offerAndAddonsDiscount(b,
"exchange");window.sg.components.instantExchangePopupHubble.closePopup()}else $("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success")},error:function(a){F=!1;a=J(a);$("#instant-exchange-popup-hubble-offer .text-field--hide-label .error-message").text(a);$("#instant-exchange-popup-hubble-offer .text-field--hide-label").addClass("text-field--error").removeClass("text-field--success")}})}}function g(a,b){a=currencyComma(a,b);
b=a.lastIndexOf(".");return a.substr(0,b)}function J(a){var b="";null!=a.responseJSON&&null!=a.responseJSON.message&&""!==a.responseJSON.message&&(b=a.responseJSON.message);return b}function k(a){"all"===a?($("#in_phone_inp1").val(""),$("#in_phone_inp2").val(""),$("#in_phone_inp3").val(""),$("#instant-exchange-popup-hubble .text-field--hide-label").removeClass("text-field--error").removeClass("text-field--success"),$("#in_phone_inp2").attr("disabled","disabled"),$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .text-field--hide-label").addClass("text-field--disabled"),
$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .instant-exchange-popup-hubble__search").attr("disabled","disabled"),$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled"),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").addClass("cta--disabled"),$("#select-box-01 select option").remove(),$("#select-box-02 select option").remove(),$("#select-box-03 select option").remove(),
$("#select-box-04 select option").remove(),$("#select-box-01").addClass("disabled"),$("#select-box-02").addClass("disabled"),$("#select-box-03").addClass("disabled"),$("#select-box-04").addClass("disabled"),$("#in_phone_inp3").parent().find("input").removeAttr("disabled","disabled"),$("#in_phone_inp3").parent().find(".instant-exchange-popup-hubble__search").removeAttr("disabled"),$("#in_phone_inp3").parent().find(".text-field--hide-label").removeClass("text-field--active").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--disabled"),
window.sg.components.instantExchangePopupHubble.reInitSelectBox()):"select"===a?($("#select-box-01 select option").remove(),$("#select-box-02 select option").remove(),$("#select-box-03 select option").remove(),$("#select-box-04 select option").remove(),$("#select-box-01").addClass("disabled"),$("#select-box-02").addClass("disabled"),$("#select-box-03").addClass("disabled"),$("#select-box-04").addClass("disabled"),window.sg.components.instantExchangePopupHubble.reInitSelectBox(),$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled")):
"imei"===a?($("#in_phone_inp2").val(""),$("#in_phone_inp2").attr("disabled","disabled"),$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .text-field--hide-label").addClass("text-field--disabled"),$(".instant-exchange-popup-hubble__phone-info-sub-inner .instant-exchange-popup-hubble__input-wrap .instant-exchange-popup-hubble__search").attr("disabled","disabled"),$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").removeClass("text-field--error").removeClass("text-field--success"),
$(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").attr("disabled","disabled")):"step2"===a&&($("#in_phone_inp3").val(""),$("#in_phone_inp3").parent().find("input").removeAttr("disabled","disabled"),$("#in_phone_inp3").parent().find(".instant-exchange-popup-hubble__search").removeAttr("disabled"),$("#in_phone_inp3").parent().find(".text-field--hide-label").removeClass("text-field--active").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--disabled"),
$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").addClass("cta--disabled"))}var p=$("#storeDomain").val(),m=$("#companyCode").val(),f={},q=[],u="",Q=!1,C=[],D=[],e=null,x="",h=$("#priceCurrency").val(),l=$("#multiLanguageYn").val(),G=$("#localLang").val(),r={"Cache-Control":"no-cache","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},A=!1,t=!1,O={},M={},E=!1,y=0,F=!1,T=!1,K=!1,v="false";"Y"===l&&(r["x-ecom-locale"]=G);l=digitalData.page.pageInfo.pageTrack.toLowerCase();
G=$("#tempTitle").val();""===l&&(l="flagship pdp");var B="header(pim)_trade in-"+l+"-text-category";"page-bc-pd"===G&&(B="trade_in-"+l+"-option-select");$(document).on("click","#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .instant-exchange-popup-hubble__search",function(){A=!0;k("select");k("imei");N()});$(document).on("keyup","#in_phone_inp1",function(a){var b=$(this).val();$(this).val(b.replace(/[^0-9]/g,""));if(13===a.keyCode)A=!0,k("select"),k("imei"),N();else if($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").hasClass("text-field--error")||
$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").hasClass("text-field--success"))$("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--error").removeClass("text-field--success"),setTimeout(function(){k("select");k("imei")},0)});$(document).on("click","#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search",function(){A=
!1;H()});$(document).on("keyup","#in_phone_inp2",function(a){var b=$(this).val();13===a.keyCode&&15===$(this).val().length?(A=!1,H()):15===b.length&&/^[0-9]*$/.test(b)?($(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").removeAttr("disabled"),$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").removeClass("text-field--error")):15!==b.length?(/^[0-9]*$/.test(b)?$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label .error-message").text("IMEI must be 15 characters."):
$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label .error-message").text("Please enter a numeric IMEI number."),$(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").attr("disabled","disabled"),$(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").removeClass("text-field--success").addClass("text-field--error")):"disabled"!==$(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").attr("disabled")&&
($(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").attr("disabled","disabled"),$("#select-box-01 select").val(""),$("#select-box-02 select").val(""),$("#select-box-03 select").val(""),$("#select-box-04 select").val(""),$("#select-box-01").addClass("disabled"),$("#select-box-02").addClass("disabled"),$("#select-box-03").addClass("disabled"),$("#select-box-04").addClass("disabled"),window.sg.components.instantExchangePopupHubble.reInitSelectBox(),$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled"))});
$(document).on("click",".instant-exchange-popup-hubble .icon",function(){var a=$(this).parent().find("input");null!=a&&(a=a.attr("id"),"in_phone_inp1"===a?($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__phone-info .text-field--hide-label").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--active"),k("select"),k("imei")):"in_phone_inp2"===a?($(".instant-exchange-popup-hubble__phone-info-sub .text-field--hide-label").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--active"),
$(".instant-exchange-popup-hubble__phone-info-sub .instant-exchange-popup-hubble__search").attr("disabled","disabled"),k("select"),window.sg.common.menu.reInit($("#select-box-01")[0]),I(O)):"in_phone_inp3"===a&&($("#instant-exchange-popup-hubble-offer .text-field--hide-label").removeClass("text-field--active").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--disabled"),w(!1)))});$("#select-box-01 select").on("change",function(){$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled");
L(2);var a=$("#select-box-01 select option:selected").val();if(""!==a){a=f[a].series.split(",");for(var b="",d=0;d<a.length;d++)b+='\x3coption value\x3d"'+a[d]+'" an-tr\x3d"'+B+'" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select series:'+a[d].toLowerCase()+'"\x3e'+a[d]+"\x3c/option\x3e";$("#select-box-02 select").html(b);$("#select-box-02").removeClass("disabled");window.sg.common.menu.reInit($("#select-box-02")[0]);1===a.length&&$("#select-box-02 .menu__list-option-wrap")[0].click()}});
$("#select-box-02 select").on("change",function(){$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled");L(3);var a=$("#select-box-01 select option:selected").val(),b=$("#select-box-02 select option:selected").val();if(""!==b){a=f[a][b];b=[];for(var d=0;d<a.length;d++)b.push(a[d].name);a=b.reduce(function(a,b,d){-1<a.indexOf(b)?a:a.push(b);return a},[]);b="";for(d=0;d<a.length;d++)b+='\x3coption value\x3d"'+a[d]+'" an-tr\x3d"'+B+'" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select model:'+
a[d].toLowerCase()+'"\x3e'+a[d]+"\x3c/option\x3e";$("#select-box-03 select").html(b);$("#select-box-03").removeClass("disabled");window.sg.common.menu.reInit($("#select-box-03")[0]);1===a.length&&$("#select-box-03 .menu__list-option-wrap")[0].click()}});$("#select-box-03 select").on("change",function(){$("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled");L(4);var a=$("#select-box-01 select option:selected").val(),b=$("#select-box-02 select option:selected").val(),d=$("#select-box-03 select option:selected").val();
if(""!==d){a=f[a][b];for(var c=b=0,e="",g=0;g<a.length;g++)a[g].name===d&&(e+='\x3coption value\x3d"'+a[g].variant+'" an-tr\x3d"'+B+'" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select varient:'+a[g].variant.toLowerCase()+'"\x3e'+a[g].variant+"\x3c/option\x3e",b++,c=g);$("#select-box-04 select").html(e);$("#select-box-04").removeClass("disabled");window.sg.common.menu.reInit($("#select-box-04")[0]);1===b&&($("#select-box-04 .menu__select-field-text").text(a[c].variant),$('#select-box-04 option[value\x3d"'+
a[c].variant+'"]').attr("selected",!0).change())}});$("#select-box-04 select").on("change",function(){var a=$("#select-box-01 select option:selected").val(),b=$("#select-box-02 select option:selected").val(),d=$("#select-box-03 select option:selected").val(),c=$("#select-box-04 select option:selected").val();if(""!=a&&""!==b&&""!==d&&""!==c)for($("#instant-exchange-popup-hubble .cta--contained").removeClass("cta--disabled"),a=f[a][b],b=0;b<a.length;b++)a[b].name===d&&a[b].variant===c&&(M=a[b],M.postal_code=
$("#in_phone_inp1").val());else $("#instant-exchange-popup-hubble .cta--contained").addClass("cta--disabled")});$(document).on("click","#instant-exchange-popup-hubble .cta--contained",function(a){a.preventDefault();a=$("#in_phone_inp2").val();var b=$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__input-wrap");E||""===a?(b.find(".text-field--hide-label").removeClass("text-field--active").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--disabled"),
b.find(".instant-exchange-popup-hubble__search").removeAttr("disabled","disabled")):(b.find("input").attr("disabled","disabled"),b.find(".instant-exchange-popup-hubble__search").attr("disabled","disabled"),b.find(".text-field--hide-label").addClass("text-field--active").addClass("text-field--disabled"),$("#in_phone_inp3").val(a),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").removeClass("cta--disabled"));e=M;x="";t=!1;S();window.sg.components.instantExchangePopupHubble.moveNextPop()});
$(document).on("click","#instant-exchange-popup-hubble-offer .cta--outlined.cta--black, .instant-exchange-popup-hubble__step-back-button",function(a){a.preventDefault();a=$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__input-wrap");""!==$("#in_phone_inp3").val()&&(a.find("input").removeAttr("disabled","disabled"),a.find(".instant-exchange-popup-hubble__search").removeAttr("disabled"),a.find(".text-field--hide-label").removeClass("text-field--active").removeClass("text-field--error").removeClass("text-field--success").removeClass("text-field--disabled"),
$("#in_phone_inp3").val(""),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button-item .cta--contained").removeClass("cta--disabled"));window.sg.components.instantExchangePopupHubble.movePrevPop()});$(document).on("click.exchange","#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]",function(){var a=$(this).attr("id"),b="instant";x="instant";"phone-offer-1"===a&&(b="deferred",x="deffered");var d=b,c=$("#instant-exchange-popup-hubble-offer"),f=c.find(".instant-exchange-popup-hubble__work-step-inner");
b=c.find(".instant-exchange-popup-hubble__note-box");var l=b.find(".checkbox-radio"),k=b.find(".instant-exchange-popup-hubble__note-box-text"),m=c.find(".instant-exchange-popup-hubble__value").find(".instant-exchange-popup-hubble__phone-title");a=c.find(".instant-exchange-popup-hubble__value-list");var q=b.find("#instant-exchange-pop-chk");b="";var t=Granite.I18n.get("Deferred exchange value"),u=Granite.I18n.get("Instant exchange value");f.hide();var p="deferred"===d?e.easyOffer_estimatied_discount:
e.instant_estimatied_discount;var r=p.exchange_discount.amount;var z=p.total.amount;p=z-r;"true"===v?(z=y-z+r,T||(k.append("\x3cbr/\x3eAdditional Exchange bonus benefit will not be available along with Galaxy Forever program."),l.find(".checkbox-radio__label-text").after("\x3cbr/\x3eAdditional Exchange bonus benefit will not be available along with Galaxy Forever program.")),T=!0):z=y-z;$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__step-back-text strong").text(e.name+" "+
e.variant);k.hide();"deferred"===d?(f.eq(0).show(),m.html(t),k.eq(1).show(),b=b+"\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("New device price")+"\x3c/span\x3e"),b+='\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(y,h)+"\x3c/span\x3e",b=b+"\t\x3c/li\x3e\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("Amount to pay on checkout")+"\x3c/span\x3e"),b+='\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+
g(y,h)+"\x3c/span\x3e",b=b+"\t\x3c/li\x3e\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("Assured value on current device")+"\x3c/span\x3e"),b+='\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(p,h)+"\x3c/span\x3e",b=b+"\t\x3c/li\x3e\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("Additional Exchange Bonus")+"\x3c/span\x3e"),b="true"!==v?!1===K?b+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+
g(r,h)+"\x3c/span\x3e"):b+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(0,h)+"\x3c/span\x3e"):b+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(0,h)+"\x3c/span\x3e"),b=b+'\t\x3c/li\x3e\x3cdiv class\x3d"instant-exchange-popup-hubble__value-total"\x3e'+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("Effective price after Exchange")+"\x3c/span\x3e")):(f.eq(1).show(),m.html(u),k.eq(0).show(),q.is(":checked")||
q.prop("checked",!0),b=b+"\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("New device price")+"\x3c/span\x3e"),b+='\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(y,h)+"\x3c/span\x3e",b=b+"\t\x3c/li\x3e\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("(-) Instant Discount")+"\x3c/span\x3e"),b+='\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+
g(p,h)+"\x3c/span\x3e",b=b+"\t\x3c/li\x3e\t\x3cli\x3e"+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("(-) Additional Exchange Bonus")+"\x3c/span\x3e"),b="true"!==v?!1===K?b+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(r,h)+"\x3c/span\x3e"):b+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(0,h)+"\x3c/span\x3e"):b+('\t\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(0,h)+"\x3c/span\x3e"),
b=b+'\t\x3c/li\x3e\x3cdiv class\x3d"instant-exchange-popup-hubble__value-total"\x3e'+('\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-text"\x3e'+Granite.I18n.get("Amount to pay on checkout")+"\x3c/span\x3e"));b+='\t\x3cspan class\x3d"instant-exchange-popup-hubble__value-price"\x3e'+g(z,h)+"\x3c/span\x3e";b+="\x3c/div\x3e";d=c.find(".checkbox-radio__label-result").eq(0);c=c.find(".checkbox-radio__label-result").eq(1);void 0!==e.easyOffer_estimatied_discount&&(f="true"===v?Granite.I18n.get("Get assured value of - {0} for your current device*",
g(e.easyOffer_estimatied_discount.exchange_value.amount,h)):Granite.I18n.get("Get assured value of - {0} for your current device*",g(e.easyOffer_estimatied_discount.total.amount,h)),d.html(f));void 0!==e.instant_estimatied_discount&&(d="true"===v?Granite.I18n.get("Get instant - {0} off on purchase of new device*",g(e.instant_estimatied_discount.exchange_value.amount,h)):Granite.I18n.get("Get instant - {0} off on purchase of new device*",g(e.instant_estimatied_discount.total.amount,h)),c.html(d));
a.html(b);w()});$(document).on("keyup","#in_phone_inp3",function(a){13===a.keyCode&&15===$(this).val().length?R():15===$(this).val().length?$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__input-imei .instant-exchange-popup-hubble__search").removeAttr("disabled"):($("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__input-imei .instant-exchange-popup-hubble__search").attr("disabled","disabled"),w(!1))});$(document).on("click","#instant-exchange-pop-chk",function(){w()});
$(document).on("click","#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__input-imei .instant-exchange-popup-hubble__search",function(){R()});$(document).on("click","#instant-exchange-popup-hubble-offer .cta--contained",function(){W()});var S=function(){$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__option-inner").show();void 0!==e.easyOffer_Id&&""!==e.easyOffer_Id||$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__option-inner").eq(0).hide();
void 0!==e.instantOffer_Id&&""!==e.instantOffer_Id||$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__option-inner").eq(1).hide();var a=$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__option-inner:visible").length;""!==x&&void 0!==a&&1<a?"deffered"===x?$("#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]").eq(0).click():$("#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]").eq(1).click():void 0!==e.easyOffer_Id&&""!==e.easyOffer_Id?
$("#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]").eq(0).click():$("#instant-exchange-popup-hubble-offer input[name\x3dphone-offer]").eq(1).click()};configuratorExchange={setExchange:function(a,b,d){v=d;u=$("#shopSKU").val();Q=a;y=b;t=F=!1;x="";window.sg.components.instantExchangePopupHubble.reInit();k("all");window.sg.components.instantExchangePopupHubble.showPopup()}};"page-bc-pd"===G&&($("#instant-exchange-popup-hubble .instant-exchange-popup-hubble__button-item .cta--contained").attr("an-tr",
"trade_in-"+l+"-option-select"),$("#instant-exchange-popup-hubble .layer-popup__close").attr("an-tr","trade_in-"+l+"-option-select"),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__step-back-button").attr("an-tr","trade_in-"+l+"-option-select"),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button .cta--black").attr("an-tr","trade_in-"+l+"-option-select"),$("#instant-exchange-popup-hubble-offer .instant-exchange-popup-hubble__button .cta--emphasis").attr("an-tr",
"trade_in-"+l+"-option-select"),$("#instant-exchange-popup-hubble-offer .layer-popup__close").attr("an-tr","trade_in-"+l+"-option-select"),$("#bc-pd-exchange1").text("Evaluation of current device"),$("#bc-pd-exchange2").text("Arrival of courier \x26 Checking of current device"),$("#bc-pd-exchange3").text("Handover of new device post evaluation of current device"),$("#bc-pd-exchange4").html("On delivery of new phone you will receive a link from our partner, Cashify. Use the link to share your account details in which you would like to receive the exchange amount.\x3cbr\x3e Your exchange can be rejected if current phone is not in working condition, has scratches/cracks on the screen or dents on the body."))});